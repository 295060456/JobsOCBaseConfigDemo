
常见的加密有Base64加密和MD5加密

MD5（对称加密）MD5加密称为“消息摘要算法第五版”,是HASH算法一种,是生成32位的数字字母混合码
免费的，一般用在数字签名，密码加密和密码加密
MD5生成的是唯一的、固定的128bit（32个字符），即128个0和1的二进制位，而在实际应用开发中，通常是以16进制输出的，所以正好就是32位的16进制，说白了也就是32个16进制的数字
MD5主要特点是不可逆，相同数据的MD5值肯定一样，不同数据的MD5值不一样（也不是绝对的，但基本是不能一样的）
计算机中最小存储单位是字节，一个字节是8bit。128/8 = 16，即需要 16字节来存储结果。宏CC_MD5_DIGEST_LENGTH即为16
关于%02X。02表示不足2位前面补0。比如0000 0001表示1，转16进制后需要输出为01，而不能是1，以保证输出结果正确
16位和32位MD5区别:16位即32位结果截取中间的16位。只是对MD5结果的一种处理方式
MD5算法还具有以下性质:
1、压缩性：任意长度的数据，算出的MD5值长度都是固定的。
2、容易计算：从原数据计算出MD5值很容易。
3、抗修改性：对原数据进行任何改动，哪怕只修改1个字节，所得到的MD5值都有很大区别。
4、弱抗碰撞：已知原数据和其MD5值，想找到一个具有相同MD5值的数据（即伪造数据）是非常困难的。
5、强抗碰撞：想找到两个不同的数据，使它们具有相同的MD5值，是非常困难的。
MD5算法为什么加盐？
因为现在网上有各种网站来查询MD5码
例如http://www.cmd5.com，所以
为了让MD5码更加安全，我们现在都采用加盐，盐要越长越乱，得到的MD5码就很难查到


HMAC：
给定一个密钥，对明文加密，做两次“散列”，得到的结果还是32为字符串。
在实际开发中，密钥是服务器生成，客户端发送请求会拿到KEY。一个账号对应一个KEY

以注册为例：
当用户把账号提交给服务器，服务器会验证账号的合法性，如果合法就会生成个KEY给客户端（这个KEY只有在注册的时候会出现一次，一个账号只对应一个KEY）；
客户端会用拿到的KEY给密码用HMAC方式加密（32位字符串）发给服务器，最终服务器会保存这个HMAC密码。
这样就注册成功了！以后再登录就会服务器就会比对这个HMAC密码是否相等决定能否登录成功。

这样一来好像安全了很多哎！即使黑客拿到了客户KEY，也只能拿到一个用户的信息，也就是说只丢失了一个客户的信息。
然而上面的加“盐”方式加密，如果“盐”泄漏了，那丢失的可是所有用户信息啊。安全性有了很大提升有木有！！！

但是这还是不够安全，还可以更佳安全！

以登录为例：当用户点击登录时，会生成HMAC密码，然后用HMAC密码拼接上一个时间串（服务器当前时间，201801171755，只到分钟），然后一起MD5加密，最后客户端会把加上时间的HMAC值发给服务器；
这时候服务器也会用已经存起来的HMAC密码拼接上一个时间串（服务器当前时间），然后一起MD5加密，最后用这个加密后的HMAC值和客户端发来的进行HMAC值对比，对此一样则登录成功！！！

疑问1.为什么一定要用服务器的时间呢？
答：因为客户端可能会修改自己的手机时间，以服务器为准比较好。
疑问2.如果网络有延迟怎么办？
答：这里服务器可以对比两次，再往后加一分钟对比一次。试想一下如果网络延迟了两分钟，还没请求到时间，那这个网络也是够了！！！
疑问3.为什么不让服务器直接修改KEY呢？
答：这样也能保证每次登录的HMAC值不一样？注意：这样做服务器会频繁的更新KEY，加大服务器的压力，一般不会去更新，除非更换密码才会更新。当然服务器可以定期去更新KEY，这样安全等级又会提高，更加安全！！

这个时候如果黑客拦截到了你加了时间戳的HMAC值，不能在两分钟内破解密码，那么他就永远登不进去了。这个密码的破解难度是很大的，代价也高，这样是不是就很安全了，是的，这样就更加安全！！！



